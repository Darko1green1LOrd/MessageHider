<!DOCTYPE html>

<html>
    <head>
    	<title>Message Hider</title>
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    	<script src="xxtea.min.js" type="text/javascript"></script>
    	<script src="lz-string.min.js" type="text/javascript"></script>
    	<script src="script.js"></script>
        <link rel="stylesheet" href="style.css">
    <head>
    <body onload="runonload()">
        <div class="main">
            <div class="control-panel">
                <p class="sm_text bt">Darko s message hider</p>
                <div class="bl">
                    <label for="byte_length">Byte Length:</label>
                    <input type="number" min="7" max="100" value="" id="byte_length" placeholder="Auto" oninput="this.value = !!this.value && Math.abs(this.value) >= 7  && Math.abs(this.value) <= 100 ? Math.abs(this.value) : null">
                </div>
                <div class="zero">
                    <label for="zero_var" id="zero_vartext">0 Is Unicode charcode:</label>
                    <input type="text" placeholder="0 Unicode" value="200D" id="zero_var">
                    <label class="switch">
                        <input type="checkbox" id="zero_char_t" onchange="ontoggled(this,'zero_vartext')">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="one">
                    <label for="one_var" id="one_vartext">1 Is Unicode charcode:</label>
                    <input type="text" placeholder="1 Unicode" value="2062" id="one_var">
                    <label class="switch">
                        <input type="checkbox" id="one_char_t" onchange="ontoggled(this,'one_vartext')">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="pwd">
                    <label for="pwd_var">Password:</label>
                    <input type="text" placeholder="None" value="" id="pwd_var">
                </div>
                <div class="compr">
                    <label for="compr_var">Compression :</label>
                    <label class="switch">
                        <input type="checkbox" id="compr_t">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="btns">
                    <button type="button" id="encr_mode" class="selected" onclick="switch_mode(0)">Encrypt Mode</button>
                    <button type="button" id="decr_mode" onclick="switch_mode(1)">Decrypt Mode</button>
                    <button type="button" id="lcharc_mode" onclick="switch_mode(2)">List Charcodes</button>
                    <button type="button" id="charc_mode" onclick="switch_mode(3)">Charcodes</button>
                    <button type="button" id="info_mode" onclick="switch_mode(4)">Info</button>
                </div>
            </div>
            <div class="encrypt">
                <p class="e_text">Encrypt/Hide</p>
                <div class="dmsg">
                    <label class="dmsg_text newline" for="DecoyMsg">Decoy Message(Must be empty or contain atleast one space):</label>
                    <textarea id="DecoyMsg_encr" name="DecoyMsg" rows="6" cols="150">Hello There</textarea>
                </div>
                <div class="hiddenmsg">
                    <label class="hmsg_text newline" for="HideMsg">Hidden Message:</label>
                    <textarea id="HideMsg_encr" name="HideMsg" rows="6" cols="150">Super secret text</textarea>
                </div>
                <div class="encrypted">
                    <label class="hdnmsg_text_encr newline" for="EncrMsg">Encrypted Message:</label>
                    <textarea disabled id="HiddenMsg_encr" name="EncrMsg" rows="6" cols="150"></textarea>
                </div>
                <div class="btns">
                    <button type="button" id="encrypt_encr" onclick="encrypt()">Encrypt</button>
                    <button type="button" id="copy_encr" onclick="copytext('HiddenMsg_encr')" disabled>Copy</button>
                </div>
            </div>
            <div class="decrypt">
                <p class="d_text">Decrypt/Reveal</p>
                <div class="hiddenmsg">
                    <label class="hmsg_text newline" for="HideMsg">Paste the message with secret here:</label>
                    <textarea id="secretmsg_decr" name="HideMsg" rows="6" cols="150">Normal Looking Text</textarea>
                </div>
                <div class="decrypted">
                    <label class="hdnmsg_text_decr newline" for="DecrdMsg">Decrypted Message:</label>
                    <textarea disabled id="HiddenMsg_decr" name="DecrdMsg" rows="6" cols="150"></textarea>
                </div>
                <div class="btns">
                    <button type="button" id="encrypt_decr" onclick="decrypt()">Decrypt</button>
                    <button type="button" id="copy_decr" onclick="copytext('HiddenMsg_decr')" disabled>Copy</button>
                </div>
            </div>
            <div class="listcharcodes">
                <p class="lc_text">Show what are charcodes in message</p>
                <div class="sourcetext">
                    <label class="sc_text newline" for="ScMsg">Paste the message:</label>
                    <textarea id="sourcetext_inp" name="ScMsg" rows="6" cols="150">Example Text</textarea>
                </div>
                <div class="listedcc">
                    <label class="listedcc_text newline" id="listedcc_label" for="LccMsg">Charcodes in the message:</label>
                    <table id="listedcc_table">
                    <tr>
                        <th>Character</th>
                        <th>Charcode</th>
                        <th>Amount</th>
                    </tr>
                    </table>
                </div>
                <div class="btns">
                    <button type="button" id="charcodes_sh" onclick="showCharcodes()">Show</button>
                </div>
            </div>
            <div class="charcodes">
                <p class="c_text">Charcodes</p>
                <div class="all_charcodes">
                    <label class="charc_text newline" for="all_charcodess">Invisible charcode suggestions if you want to change it up</label>
                    <textarea disabled id="all_charcodes" name="all_charcodes" rows="6" cols="150">200D 2061 200C 2063 2064 2062</textarea>
                </div>
            </div>
            <div class="pageinfo">
                <p class="p_text">Info</p>
                <div class="all_charcodes">
                    <label class="info_text newline" for="all_charcodess">Info About The Page</label>
                    <textarea disabled id="pginfo" name="pginfo" rows="34" cols="150">This page is one of my hobby projects from when i wanted to try and make a website&#13;&#10;&#13;&#10;It can easly make or read well hidden messages with encryption if you want to&#13;&#10;You can find the files for this page on github&#13;&#10;And you can run it localy with no internet needed&#13;&#10;&#13;&#10;Compression is not reccomended on smaller texts, it makes those bigger but on bigger text it works very well&#13;&#10;&#13;&#10;The page is useable on a phone but it was designed for desktop, so desktop experience with it is better&#13;&#10;&#13;&#10;&#13;&#10;How encryption works:&#13;&#10;1. If compression is enabled it compresses your hidden message with LZString s compress function&#13;&#10;2. If you include a password it encrypts your hidden message with XXTEA s encryptToBase64 encryption&#13;&#10;key beeing the password encrypted in Base64&#13;&#10;3. It converts your hidden message into binary&#13;&#10;4. If you have Byte Length set to auto it will figure out minimal possible length and add that to the hidden message separated by space&#13;&#10;5. Replaces all 0s and 1s with unicode characters that have no space and are invisible&#13;&#10;6. Puts it into your decoy message&#13;&#10;&#13;&#10;How decryption works:&#13;&#10;1. Removes everything that isnt the 2 set unicodes&#13;&#10;2. Converts the unicode for 0 to 0&#13;&#10;3. Converts the unicode for 1 to 1&#13;&#10;4. if you include a password it decrypts the encrypted text with XXTEA s decryptFromBase64 encryption&#13;&#10;key beeing the password encrypted in Base64&#13;&#10;5. Read the saved byte length and use that as byte length&#13;&#10;6. Converts the binary to text&#13;&#10;7. If compression is enabled it decompresses the message with LZString s decompress function&#13;&#10;&#13;&#10;&#13;&#10;Note: Its possible to give it any unicode charcode but if you use one that is non invisible and has a space the hidden message will be less hidden</textarea>
                </div>
            </div>
        </div>
        <!-- The Modal/popup info box -->
        <div class="infobox_container">
            <!-- Here is the hidden checkbox element which makes toggling the modal work -->
            <input type="checkbox" id="infobox-t" class="infobox_toggler"  />
            <!-- Here is the background mask. When clicked, it closes the modal. Change this to a div to disable that functionality. -->
            <label class="infobox_mask" for="infobox-t"></label>
            <div class="infobox">
                <label class="infobox_close" for="infobox-t"></label>
                <div class="infobox_content">
                    <h1 class="infobox_title" id="infobox-title">Title</h1>
                    <p>You can click anywhere outside this window to close it.</p>
                    <p id="infobox-first">Text1</p>
                    <p id="infobox-second">Text2</p>
                    <button class="button" onclick="hidemsg()" id="infobox-btn">Close</button>
                </div>
            </div>
        </div>
    </body>
</html>
